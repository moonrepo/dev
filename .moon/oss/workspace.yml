$schema: 'https://moonrepo.dev/schemas/workspace.json'

node:
  version: '16.17.0'
  packageManager: 'yarn'
  yarn:
    version: '3.2.3'
    plugins:
      - 'interactive-tools'
      - 'version'
      - 'workspace-tools'
  dedupeOnLockfileChange: true
  dependencyVersionFormat: 'workspace-caret'
  syncProjectWorkspaceDependencies: true
  syncVersionManagerConfig: 'nvm'

  # Do not add an engines constraint as its abrasive for open source.
  addEnginesConstraint: false

  # Do not infer functionality from `package.json`, as we want to encourage
  # consumers to embrace moon.
  inferTasksFromScripts: false

typescript:
  createMissingConfig: false
  routeOutDirToCache: true
  syncProjectReferences: true

runner:
  implicitDeps:
    - '^:build'
  inheritColorsForPipedTasks: true
  logRunningCommand: true

vcs:
  manager: 'git'
  defaultBranch: 'master'
