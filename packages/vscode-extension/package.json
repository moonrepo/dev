{
  "private": true,
  "version": "0.0.1",
  "name": "moon",
  "publisher": "moonrepo",
  "displayName": "moon",
  "description": "Control panel and console for moon.",
  "markdown": "github",
  "keywords": [
    "moon",
    "moonrepo",
    "build",
    "system",
    "ci",
    "cd",
    "console"
  ],
  "engines": {
    "vscode": "^1.72.0"
  },
  "categories": [
    "Testing",
    "Other"
  ],
  "activationEvents": [
    "onCommand:moon.openSettings",
    "onCommand:moon.runTargetByInput",
    "onView:moonProjects",
    "onView:moonProjectsExternal",
    "onView:moonLastRun",
    "workspaceContains:moon.yml"
  ],
  "main": "./lib/extension.js",
  "contributes": {
    "configuration": {
      "id": "moon",
      "type": "object",
      "title": "moon",
      "properties": {
        "moon.binPath": {
          "type": "string",
          "default": "node_modules/@moonrepo/cli/moon",
          "markdownDescription": "Path to the moon binary, relative from the `moon.workspaceRoot` setting."
        },
        "moon.workspaceRoot": {
          "type": "string",
          "default": ".",
          "markdownDescription": "Relative path from the editor root to moon's [workspace root](https://moonrepo.dev/docs/concepts/workspace)."
        }
      }
    },
    "commands": [
      {
        "command": "moon.openSettings",
        "title": "moon: Open settings"
      },
      {
        "command": "moon.refreshProjects",
        "title": "moon: Refresh projects",
        "icon": "$(refresh)"
      },
      {
        "command": "moon.runTarget",
        "title": "moon: Run the target",
        "icon": "$(run)"
      },
      {
        "command": "moon.runTargetByInput",
        "title": "moon: Run a target",
        "when": "moon.hasBinary"
      }
    ],
    "menus": {
      "commandPalette": [
        {
          "command": "moon.runTarget",
          "when": "false"
        }
      ],
      "view/title": [
        {
          "command": "moon.refreshProjects",
          "when": "view == moonProjects && moon.hasBinary",
          "group": "navigation"
        },
        {
          "command": "moon.refreshProjects",
          "when": "view == moonProjectsExternal && moon.hasBinary",
          "group": "navigation"
        }
      ],
      "view/item/context": [
        {
          "command": "moon.runTarget",
          "when": "view == moonProjects && viewItem == projectTask",
          "group": "inline"
        },
        {
          "command": "moon.runTarget",
          "when": "view == moonProjectsExternal && viewItem == projectTask",
          "group": "inline"
        }
      ]
    },
    "taskDefinitions": [
      {
        "type": "moon",
        "required": [
          "target"
        ],
        "properties": {
          "target": {
            "type": "string",
            "description": "Target to run in the terminal."
          }
        },
        "when": "moon.hasBinary && shellExecutionSupported"
      }
    ],
    "viewsContainers": {
      "activitybar": [
        {
          "id": "moon-console",
          "title": "moon console",
          "icon": "assets/moon.svg"
        }
      ]
    },
    "views": {
      "explorer": [
        {
          "id": "moonProjectsExternal",
          "name": "moon"
        }
      ],
      "moon-console": [
        {
          "id": "moonProjects",
          "name": "Projects"
        },
        {
          "id": "moonLastRun",
          "name": "Last run",
          "type": "webview",
          "when": "moon.inWorkspaceRoot"
        }
      ]
    },
    "viewsWelcome": [
      {
        "view": "moonProjects",
        "contents": "Unable to find the workspace root. Has moon been installed?\n[Install moon](https://moonrepo.dev/docs/install)\nIf moon was installed in a sub-folder, update the [moon.workspaceRoot](command:moon.openSettings) setting.",
        "when": "!moon.inWorkspaceRoot"
      },
      {
        "view": "moonProjects",
        "contents": "Unable to find moon's binary. Has the [@moonrepo/cli](https://www.npmjs.com/package/@moonrepo/cli) package been installed?\n[Learn more](https://moonrepo.dev/docs/install)\nThe path to moon's binary can be customized with the [moon.binPath](command:moon.openSettings) setting.",
        "when": "moon.inWorkspaceRoot && !moon.hasBinary"
      },
      {
        "view": "moonProjectsExternal",
        "contents": "Unable to find the workspace root. Has moon been installed?\n[Install moon](https://moonrepo.dev/docs/install)\nIf moon was installed in a sub-folder, update the [moon.workspaceRoot](command:moon.openSettings) setting.",
        "when": "!moon.inWorkspaceRoot"
      },
      {
        "view": "moonProjectsExternal",
        "contents": "Unable to find moon's binary. Has the [@moonrepo/cli](https://www.npmjs.com/package/@moonrepo/cli) package been installed?\n[Learn more](https://moonrepo.dev/docs/install)\nThe path to moon's binary can be customized with the [moon.binPath](command:moon.openSettings) setting.",
        "when": "moon.inWorkspaceRoot && !moon.hasBinary"
      }
    ]
  },
  "scripts": {
    "vscode:prepublish": "yarn run package",
    "compile": "esbuild src/extension.ts --bundle --outfile=lib/extension.js --external:vscode --format=cjs --platform=node --target=node14",
    "watch": "npm run compile -- --sourcemap --watch",
    "package": ""
  },
  "dependencies": {
    "@moonrepo/report": "^0.0.1",
    "@vscode/webview-ui-toolkit": "^1.1.0",
    "execa": "^5.0.0"
  },
  "devDependencies": {
    "@moonrepo/types": "^0.0.4",
    "@types/vscode": "^1.72.0",
    "@vscode/test-electron": "^2.1.5",
    "esbuild": "^0.15.10",
    "vsce": "^2.11.0"
  }
}
